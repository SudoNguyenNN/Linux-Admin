### Phiên Trong Linux

Trước khi nói về **Session** trong linux ta cần đề cập đến **Process**.

Mỗi một **process** sẽ thuộc về một process group (một nhóm các process), mà thường liên quan đến một job và được signal đến từ một terminal.Process group id tương tự như process id, là một số nguyên dương và có thể lấy thông qua

<img src="https://i.imgur.com/fsGaopt.png">

Mỗi một process group sẽ có một process leader, mà đặc trưng của process đó là có PID bằng với group id. Một process có thể gia nhập và một  group đã có hoặc tạo mới thông qua việc gọi hàm setpgid.

**Session**

Một Session bao một hoặc nhiều process group.

<img src="https://i.imgur.com/Ch5JPl2.jpg">

Một process tạo mới session thông qua hàm setsid. Khi hàm này được gọi thì:
- 1.Process đó sẽ trở thành session leader của session mới được tạo.
- 2.Process đó sẽ trở thành process group leader của group mới được tạo.
- 3.Process này sẽ không có "controlling terminal"

**Controlling terminal**

Session và process group sẽ có một vài đặc điểm sau:
- Một session sẽ có thể có một "controlling terminal" mà thông thường là terminal mà chúng ta đang kết nối vào (logged in)
- Session leader mà đang tạo kết nối đến controlling terminal gọi là **controlling process**
- Process group trong một sesion có thể được chia thành một **foreground process group** và một hoặc nhiều **background process groups**
- Khi chúng ta nhấn Control-C thì interrupt sẽ được gửi đến tất cả các process ở foreground.
- Khi chúng ta nhấn Control-backslash thì interrupt signal sẽ được gửi đến tất cả các process ở trong foreground.

<img src="https://i.imgur.com/l7TAwEs.jpg">

Để một chương trình đảm bảo là nó đang nói chuyện với controlling termianl nó sẽ sử dụng file /dev/tty.

### TTY và PTS Session

**What does TTY maen?**

TTY có nghĩa là việc sử dụng một Keyboard, mouse or các thiết bị phần cứng khác tương tác với một ứng dụng trên máy tính.

**What does session mean?**

Một phiên (session) là khoảng thời gian tương tác với ứng dụng trên máy tính.

**What are TTY seeion?**
- Một TTY session là môi trường cho bạn trong khi tương tác với với máy tính của bạn.
- Mỗi phiên làm việc không phụ thuộc vào phiên làm việc khác.
- Phiên làm việc được mở cùng môt user có thể tương tác với nhau. Ví dụ một file được tạo bởi một một session sẽ có thể nhìn thấy và truy cập trong một session khác và user có thể mở.
- Mỗi phiên có một login vì vậy người dùng khác nhau có thể đăng nhập vào cùng một máy tính dưới phiên làm việc khác nhau cùng một lúc.
- Mỗi phiên làm việc có một địa chỉ.
- Linux dự trữ một trong những địa chỉ này cho phiên làm việc mặc định.
- Bạn sẽ sử dụng phiên mặc định này mỗi khi bạn khởi động vào Linux.
- Bạn có thể sử dụng tự do sáu phiên khác nhau bất cứ lúc nào.
- Tất cả các phiên làm việc theo cùng một cách. Bạn có thể sử dụng một hoặc tất cả chúng
- Bạn có thể xem lịch sử của TTY [ở đây](https://mostlylinux.wordpress.com/troubleshooting/ttysessions/#appendix)

